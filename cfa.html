<html>
<head>
    <style>
        body {
        	font-family:"Arial", Helvetica, sans-serif;
        	color: #990000;
        }
        td {
        	width:200px;
        	height:100px;
        	border: 1px solid black;
          background-color: #000;
        	text-align:center;
        	cursor:pointer;
        }
        #blank {
        	border: none;
          background-color: #fff;
        }
        #title {
        	border: none;
        	text-align:left;
          background-color: #fff;
        }
    </style>
</head>
<body>
<table>
	<tr>
		<td id="title" colspan="2">
			<h3>CFA318</h3>
		</td>
	</tr>
	<tr>
		<td id="CFA318-I1">CFA318-I1
		</td>
		<td id="blank">
		</td>
		<td id="CFA318-14">CFA318-14
		</td>
		<td id="CFA318-15">CFA318-15
		</td>
		<td id="CFA318-16">CFA318-16
		</td>
		<td id="CFA318-17">CFA318-17
		</td>
		<td id="CFA318-18">CFA318-18
		</td>
		<td id="CFA318-19">CFA318-19
		</td>
		<td id="CFA318-20">CFA318-20
		</td>
	</tr>
	<tr>
		<td id="blank">
		</td>
		<td id="blank">
		</td>
		<td id="CFA318-13">CFA318-13
		</td>
		<td id="CFA318-12">CFA318-12
		</td>
		<td id="CFA318-11">CFA318-11
		</td>
		<td id="CFA318-10">CFA318-10
		</td>
		<td id="CFA318-09">CFA318-09
		</td>
		<td id="CFA318-08">CFA318-08
		</td>
		<td id="CFA318-07">CFA318-07
		</td>
	</tr>
	<tr>
		<td id="blank">
		</td>
		<td id="blank">
		</td>
		<td id="CFA318-SCANNER">CFA318-SCANNER
		</td>
		<td id="CFA318-01">CFA318-01
		</td>
		<td id="CFA318-02">CFA318-02
		</td>
		<td id="CFA318-03">CFA318-03
		</td>
		<td id="CFA318-04">CFA318-04
		</td>
		<td id="CFA318-05">CFA318-05
		</td>
		<td id="CFA318-06">CFA318-06
		</td>
	</tr>
	<tr>
		<td id="title" colspan="2">
			<h3>CFA323</h3>
		</td>
	</tr>
	<tr>
		<td id="blank">
		</td>
		<td id="blank">
		</td>
		<td id="CFA323-08">CFA323-08
		</td>
		<td id="CFA323-03">CFA323-03
		</td>
		<td id="blank">
		</td>
		<td id="blank">
		</td>
	</tr>
	<tr>
		<td id="CFA323-09">CFA323-09
		</td>
		<td id="blank">
		</td>
		<td id="CFA323-07">CFA323-07
		</td>
		<td id="CFA323-04">CFA323-04
		</td>
		<td id="blank">
		</td>
		<td id="CFA323-02">CFA323-02
		</td>
	</tr>
	<tr>
		<td id="CFA323-10">CFA323-10
		</td>
		<td id="blank">
		</td>
		<td id="CFA323-06">CFA323-06
		</td>
		<td id="CFA323-05">CFA323-05
		</td>
		<td id="blank">
		</td>
		<td id="blank">
		</td>
	</tr>
	<tr>
		<td id="blank">
		</td>
		<td id="blank">
		</td>
		<td id="blank">
		</td>
		<td id="blank">
		</td>
		<td id="CFA323-01">CFA323-01
		</td>
		<td id="blank">
		</td>
	</tr>
	<tr>
		<td id="title" colspan="2">
			<h3>CFA317</h3>
		</td>
	</tr>
	<tr>
        <td id="CFA317-20">CFA317-20
        </td>
        <td id="CFA317-19">CFA317-19
        </td>
        <td id="CFA317-18">CFA317-18
        </td>
        <td id="CFA317-17">CFA317-17
        </td>
        <td id="CFA317-16">CFA317-16
        </td>
        <td id="CFA317-15">CFA317-15
        </td>
        <td id="CFA317-14">CFA317-14
        </td>
	</tr>
	<tr>
        <td id="CFA317-07">CFA317-07
        </td>
        <td id="CFA317-08">CFA317-08
        </td>
        <td id="CFA317-09">CFA317-09
        </td>
        <td id="CFA317-10">CFA317-10
        </td>
        <td id="CFA317-11">CFA317-11
        </td>
        <td id="CFA317-12">CFA317-12
        </td>
        <td id="CFA317-13">CFA317-13
        </td>
	</tr>
	<tr>
        <td id="CFA317-06">CFA317-06
        </td>
        <td id="CFA317-05">CFA317-05
        </td>
        <td id="CFA317-04">CFA317-04
        </td>
        <td id="CFA317-03">CFA317-03
        </td>
        <td id="CFA317-02">CFA317-02
        </td>
        <td id="CFA317-01">CFA317-01
        </td>
        <td id="CFA317-SCANNER">CFA317-SCANNER
        </td>
	</tr>
	<tr>
		<td id="title" colspan="2">
			<h3>CFA319 Hallway</h3>
		</td>
	</tr>
	<tr>
        <td id="CFA-WEB02">CFA-WEB02
        </td>
        <td id="CFA-WEB01">CFA-WEB01
        </td>
        <td id="rs-cl-cfa-a">rs-cl-cfa-a
        </td>
        <td id="prn-cl-cfa-1">prn-cl-cfa-1
        </td>
        <td id="blank">
		</td>
		<td id="blank">
		</td>
		<td id="prn-cl-cfa-c">prn-cl-cfa-c
		</td>
	</tr>
	<tr>
		<td id="title" colspan="2">
			<h3>CFA322 TEF Office</h3>
		</td>
	</tr>
	<tr>
		<td id="CFA322-CC1">CFA322-CC1
		</id>
	</tr>
	<tr>
		<td id="title" colspan="2">
			<h3>CFA321 Sound Room</h3>
		</td>
	</tr>
	<tr>
		<td id="CFA321-01">CFA321-01
		</id>
	</tr>
		<tr>
		<td id="title" colspan="2">
			<h3>CFA320 Multimedia Administrator Office</h3>
		</td>
	</tr>
	<tr>
		<td id="CFA320-CC1">CFA320-CC1
		</id>
		<td id="CFA320-CC2">CFA320-CC2
		</id>
	</tr>
</table>

<script src="//code.jquery.com/jquery-1.11.3.min.js"></script>

<script>
var oneDay = 24*60*60*1000;

$.getJSON("/data", function(data) {
  $.each(data, function (key, value) {
    var d = new Date(value.date);
    $("#"+key).append("</br>" + value.andrew + "</br>" + d.toDateString());

    var firstDate = new Date();
    var secondDate = d;

    var diffDays = Math.round(Math.abs((firstDate - secondDate)/(oneDay)));

    var color = 255 - 3*diffDays;
    if(color < 0) color = 0;
    $("#"+key).css("background-color", "rgb("+color+","+color+","+color+")");
  });
});

$("td").each(function(index){
  $(this).click(function(){
    $.post("/data", "name="+$(this).attr("id"))
    .done(function(){
      location.reload();
    });
  });
});

</script>

</body>
</html>